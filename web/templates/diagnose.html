{% extends "base.html" %}

{% block title %}Diagnose - TravelWifi{% endblock %}

{% block content %}
    <h2>System-Status</h2>
    <div class="info-box">
        <h3>Ressourcen-Nutzung</h3>
        <p>CPU-Auslastung: <span class="data">{{ system_info.cpu }}%</span></p>
        <p>RAM-Nutzung: <span class="data">{{ system_info.ram_used }} / {{ system_info.ram_total }} MB</span> (<span class="data">{{ system_info.ram_percent }}%</span>)</p>
        <p>Speicherplatz: <span class="data">{{ system_info.disk_used }} / {{ system_info.disk_total }} GB</span> (<span class="data">{{ system_info.disk_percent }}%</span>)</p>
    </div>

    <div class="info-box">
        <h3>Netzwerk-Diagnose</h3>
        <p>Internet-Verbindung (Ping-Test zu 8.8.8.8):</p>
        <p>Latenz: <span class="data">{{ ping_info.latency }} ms</span></p>
        <p>Paketverlust: <span class="data">{{ ping_info.packet_loss }}%</span></p>
        <button class="action-button">Ping testen</button>
    </div>

    <div class="info-box">
        <h3>Signalst√§rke-Historie</h3>
        <div class="graph-container">
            <svg width="100%" height="200" viewBox="0 0 400 200" preserveAspectRatio="xMidYMid meet">
                <line x1="0" y1="180" x2="400" y2="180" stroke="#ccc" />
                <text x="10" y="195" font-size="10" fill="#666">Zeit</text>
                <text x="5" y="10" font-size="10" fill="#666" transform="rotate(90, 5, 10)">Signal (dBm)</text>
                
                </svg>
        </div>
        <p class="note">Die Historie wird bei jedem Seitenaufruf aktualisiert.</p>
    </div>

    <h2>System-Log</h2>
    <div class="log-box">
        <pre class="log-display">{{ log_data }}</pre>
        <button class="action-button">Log leeren</button>
    </div>
{% endblock %}